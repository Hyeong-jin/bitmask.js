(function(){"use strict";var t,n,r,e,l,a,s,u,i,c,o,p,h,f,m,y,g;r={},n={},l=Math.pow,e=Array.prototype.slice,h=Number.prototype.toString,p=Object.prototype,f=p.toString,a=p.hasOwnProperty,g=h.call(Math.random(),36).substr(2),t=function(t){this.m=0,t&&(t=u.apply(this,arguments),this.set.apply(this,t))},y=t.prototype,y.set=function(){return this.m=s.apply(this,arguments)},y.all=function(t){var n;return t=u.apply(this,arguments),n=t.length,m.call(this,t)===n},y.isset=function(t){var r,e,l,s,c,o;for(t=u.apply(this,arguments),l=r=t.length;l--&&(s=i(t[l]),c=s[0],o=s[1],n[c]=n[c]||{},e=a.call(n[c],o)););return e?m.call(this,t)===r:!1},y.match=function(){return s.apply(this,arguments)===this.m},y.any=function(){return!!m.call(this,u.apply(this,arguments))},y.filter=function(t,n,r){var e,l,a,s,u;switch(t=t||[],r=r||"m",n=n||"all",l=[],a=this.m,e=t.length,s=c(h.call(this.m,2)),n){case"all":for(;e--;)u=t[e],c(h.call(u[r]&a,2))===s&&l.push(u);break;case"any":for(;e--;)u=t[e],c(h.call(u[r]&a,2))>0&&l.push(u);break;case"match":for(;e--;)u=t[e],u[r]===a&&l.push(u)}return l},t.get=function(){return s.apply(null,arguments)},t.inspect=function(){var t,r;r={};for(t in n)a.call(n,t)&&(r[t]=n[t]);return r},s=function(){var t,s,u,c,o,p;for(u=0,t=e.call(arguments),s=t.length;s--;)o=i(t[s]),p=o[0],c=o[1],n[p]=n[p]||{},r[p]=r[p]||0,u+=a.call(n[p],c)?n[p][c]:n[p][c]=l(2,r[p]++);return u},u=function(t){return"[object Array]"===f.call(t)?t:e.call(arguments)},m=function(t){return c(h.call(s.apply(this,t)&this.m,2))},i=function(t){var n,r;return n=t.split(".",2),r=1===n.length?g:n[0],[r,n[1]||n[0]]},c=function(t){return t.replace(/0/g,"").length},o={all:function(t,n){return c(h.call(t&this.m,2))===n},any:function(t){return c(h.call(t&this.m,2))>0},match:function(t){return t===this.m}},"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?exports=module.exports=t:this.Bitmask=t}).call(this);